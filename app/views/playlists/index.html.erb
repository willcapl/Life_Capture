<div class="container">
  <div class="show-header-container">
    <div class="header-name">
      <h1><%= @sub_user.name.capitalize%>'s profile</h1>
    </div>
      <div class="btn-group dropstart">
        <button type="button" class="burger-dropdown" data-bs-toggle="dropdown" aria-expanded="false">
          <i class="fa-solid fa-bars" style="margin: auto;"></i>
        </button>
          <ul class="dropdown-menu dropdown-menu-border">
              <li> <%= link_to 'Dashboard', dashboard_path, class: "dropdown-i" %> </li>
              <li> <%= link_to 'Edit profile', edit_sub_user_path(@sub_user), class: "dropdown-i" %> </li>
              <li><%= link_to 'Delete profile', sub_user_path(@sub_user), data: {turbo_method: :delete, turbo_confirm: 'Are you sure you want to delete this subuser?'}, class: "dropdown-i" %> </li>
              <!-- Dropdown menu links -->
          </ul>
      </div>
  </div>


  <div class="navbar-show">
    <li class="nav-item">
      <%= link_to 'Upcoming Stories', sub_user_show_path(@sub_user), class: 'nav-link' %>
    </li>
      </li>
      <li class="nav-item">
        <%= link_to 'Story Bank', sub_user_stories_path(@sub_user), class: 'nav-link' %>
      </li>
      <li class="nav-item nav-active">
        <%= link_to 'Playlists', sub_user_playlists_path(@sub_user), class: 'nav-link' %>
      </li>
      <li class="nav-item">
        <%= link_to 'Film', dashboard_path, class: 'nav-link' %>
      </li>
      <li class="nav-item">
        <%= link_to 'Book', dashboard_path, class: 'nav-link' %>
      </li>
  </div>

<div class="show-container">
  <div class="videos-container">
    <% @playlists.each do |playlist| %>
    <div class="btn-group">
      <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuClickable" data-bs-toggle="dropdown" data-bs-auto-close="false" aria-expanded="false">
        <%= playlist.name %>
      </button>
       <ul class="dropdown-menu" aria-labelledby="dropdownMenuClickable">
          <li><a class="dropdown-item" href="#"><%= playlist.description %></a></li>
          <li><a class="dropdown-item" href="#"><% playlist.get_response_bookmarks.each do |question|%></a></li>
          <li><a class="dropdown-item" href="#"><%= question.question.title%></a></li>
    <%end%>

    <%# <%  @questions.select{ |question| question.video.attached? && ResponseBookmark.where(playlist_id: playlist.id).reject { question_id == question.id}}%>
          <%= simple_form_for [@sub_user, playlist, @response_bookmark] do |f|%>
          <%= f.input :question_id, collection:  @questions.select{ |question| question.video.attached? } %>
          <%= f.button :submit%>
        </ul>
    <%end%>
    <% end %>


<%# sub_user_playlist_response_bookmarks
/sub_users/:sub_user_id/playlists/:playlist_id/response_bookmarks(.:format)
<% simple_form_for [@sub_user, @playlist, @response_bookmarks] %>

<%# <div class="btn-group">
  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuClickable" data-bs-toggle="dropdown" data-bs-auto-close="false" aria-expanded="false">
    Manual close
  </button>
  <ul class="dropdown-menu" aria-labelledby="dropdownMenuClickable">
    <li><a class="dropdown-item" href="#">Menu item</a></li>
    <li><a class="dropdown-item" href="#">Menu item</a></li>
    <li><a class="dropdown-item" href="#">Menu item</a></li>
  </ul>
</div> %>


    <!-- Button trigger modal -->
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
      Create New Playlist
    </button>


    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <%= simple_form_for [@sub_user, @playlist] do |f| %>
              <%= f.input :name %>
              <%= f.input :description %>
              <%= f.submit "Confirm"%>
            <% end %>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            <button type="button" class="btn btn-primary">Save changes</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
